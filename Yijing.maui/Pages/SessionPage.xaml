<?xml version="1.0" encoding="utf-8" ?>

<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
	xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
	xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
	xmlns:views="clr-namespace:Yijing.Views"
	x:Class="Yijing.Pages.SessionPage"
	Title="Session"
	Loaded="Page_Loaded">

	<toolkit:DockLayout
		Padding="10,10,10,10"
		VerticalSpacing="10"
		HorizontalSpacing="10"
		ShouldExpandLastChild="true">

		<views:SessionView
			x:Name="sessionView"
			toolkit:DockLayout.DockPosition="Left"
			WidthRequest="400"
			ChatUpdated="SessionView_ChatUpdated" />

		<VerticalStackLayout
			toolkit:DockLayout.DockPosition="Bottom"
			HeightRequest="200"
			Spacing="10">

		<HorizontalStackLayout
			Spacing="10">
			<Label
				Text="Chat Service"
				VerticalTextAlignment="Center" />
			<Picker
				x:Name="picAiChatService"
				SelectedIndexChanged="picAiChatService_SelectedIndexChanged">
				<Picker.Items>
					<x:String>OpenAi</x:String>
					<x:String>Deepseek</x:String>
					<x:String>Github</x:String>
					<x:String>Ollama</x:String>
					<x:String>None</x:String>
				</Picker.Items>
			</Picker>
			<Button
				x:Name="btnAskAi"
				Text="Ask AI"
				Clicked="btnAskAi_Clicked" />
		</HorizontalStackLayout>

		<Editor
			x:Name="edtSessionLog"
			HeightRequest="150" />
		</VerticalStackLayout>

		<WebView
			x:Name="webview" />
	</toolkit:DockLayout>
</ContentPage>
