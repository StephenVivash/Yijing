<?xml version="1.0" encoding="utf-8" ?>

<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
	xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
	xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
	xmlns:lvc="clr-namespace:LiveChartsCore.SkiaSharpView.Maui;assembly=LiveChartsCore.SkiaSharpView.Maui"

	xmlns:models="clr-namespace:Yijing.Models"
	xmlns:views="clr-namespace:Yijing.Views"
	xmlns:controls="clr-namespace:Yijing.Controls"

	x:DataType="models:MeditationSeries"
	x:Class="Yijing.Pages.MeditationPage"
	Loaded="Page_Loaded">

		<toolkit:DockLayout
			x:Name="layDock"
			ShouldExpandLastChild="true"
			>

			<views:MenuView
				x:Name="horMenu"
				toolkit:DockLayout.DockPosition="Bottom"
				CardTitle="Card 1"
				/>

			<views:MenuView
				x:Name="verMenu"
				toolkit:DockLayout.DockPosition="Left"
				CardTitle="Card 1"
				/>
			<views:MeditationView
				x:Name="meditationView"
				toolkit:DockLayout.DockPosition="Left"
				WidthRequest="300"
				CardTitle="Meditation"
				MeditationCompleted="MeditationView_MeditationCompleted" />

			<Border
				toolkit:DockLayout.DockPosition="Top"
				>
			<HorizontalStackLayout
				x:Name="hslSelection"
				Spacing="10"
				VerticalOptions="Start"
				HorizontalOptions="Start">

				<Label
					Text="Range"
					VerticalOptions="Center" />

				<Picker
					x:Name="picRange"
					SelectedIndexChanged="picRange_SelectedIndexChanged"
					WidthRequest="140">
					<Picker.Items>
						<x:String>Week</x:String>
						<x:String>Month</x:String>
						<x:String>Year</x:String>
					</Picker.Items>
					</Picker>

				<controls:ButtonEx
					x:Name="btnPrev"
					Text="◀"
					Clicked="btnPrev_Clicked" />

				<controls:ButtonEx
					x:Name="btnNext"
					Text="▶"
					Clicked="btnNext_Clicked" />

				<Label
					x:Name="lblRange"
					VerticalOptions="Center" />

			</HorizontalStackLayout>
			</Border>

			<Border>
			<lvc:CartesianChart
				x:Name="chaMeditation"
				Series="{Binding Series}"
				TooltipPosition="Hidden"
				ZoomMode="None"
				LegendPosition="Hidden"
				AnimationsSpeed="0"
				AutoUpdateEnabled="True" />
			</Border>
	</toolkit:DockLayout>
</ContentPage>
